<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>External window page</h1>
<button id="send-event">Send event back</button>
<script>
    (function () {
        let source;
        let origin;
        window.addEventListener("message", (event) => {
            source = event.source;
            origin = event.origin;
        });
        const sendEventBtn = document.querySelector('#send-event');
        sendEventBtn.addEventListener('click', () => {
            source.postMessage("do_clear_history", origin);
        });
    })();
</script>
</body>
</html>