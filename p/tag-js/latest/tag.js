(()=>{var e={757:function(){function e(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}window.lpTag=window.lpTag||{},lpTag.cookieMethods=lpTag.cookieMethods||function(){"use strict";var t,n,r=!1,o=!1,a=!0,i="https:"===location.protocol,s={value:"testValue",sameSite:i?"none":null,secure:i,partitioned:i};function c(e){var t,n,i="";if(a||r||o){if("string"!=typeof e)return"";e=encodeURIComponent(e);try{n="; "+document.cookie}catch(e){}i=1==(t=n.split("; "+e+"=")).length?"":decodeURIComponent(t[1].split(";")[0])}return i}function u(t,n,r,o,a,i,s,c){return(void 0===t?"undefined":e(t))==="object"?l(t):l({name:t,value:n,seconds:r,path:o,domain:a,secure:i,sameSite:s,partitioned:c})}function l(e){var t,n=!1;if(a||r||o&&e.secure&&"none"===e.sameSite){if("string"!=typeof e.name||""===e.name)return!1;(null===e.value||void 0===e.value)&&(e.seconds=-1),"number"==typeof e.seconds&&(t=new Date(new Date().getTime()+1e3*e.seconds)),e.value=e.value?encodeURIComponent(e.value):"";try{document.cookie=[encodeURIComponent(e.name),"=",e.value,t?"; expires="+t.toUTCString():"",e.path?"; path="+e.path:"",e.domain?"; domain="+e.domain:"",e.secure?"; secure":"",e.sameSite?"; samesite="+e.sameSite:"",e.partitioned?"; partitioned":""].join(""),n=!0}catch(e){}}return n}function d(e,t,n,r,o,a){return l({name:e,path:t,domain:n,secure:r,sameSite:o,partitioned:a})}return l({name:t="lpTestCookie"+new Date().getTime(),value:s.value,sameSite:s.sameSite,secure:s.secure,partitioned:s.partitioned}),r=s.value===c(t),d(t,null,null,s.secure,s.sameSite,s.partitioned),!r&&navigator.userAgent.match(/Chrome/)&&(l({name:n="lpTestCookie"+new Date().getTime(),value:s.value,sameSite:s.sameSite,secure:s.secure,partitioned:s.partitioned}),o=s.value===c(n),d(n,null,null,s.secure,s.sameSite,s.partitioned)),a=!1,{clearCookie:d,writeSessionCookie:u,writePersistentCookie:function(t,n,r){return r="number"==typeof r?r:2592e3,(void 0===t?"undefined":e(t))==="object"&&(t.seconds=r),u(t,n,r)},readCookie:c,isCookieEnabled:function(){return r},isChromeThirdPartyEnabled:function(){return o}}}()},543:function(){window.lpTag=window.lpTag||{},lpTag.storageMethods=lpTag.storageMethods||function(){"use strict";var e=!1,t=!1,n=null,r=null;function o(t){if(e)return s().getItem(t)||""}function a(e){if(t)return c().getItem(e)||""}function i(){try{e=u(s()),t=u(c())}catch(e){}}function s(){return n||sessionStorage}function c(){return r||localStorage}function u(e){var t=!1,n="lpTestCase";try{"undefined"!=typeof Storage&&(e.setItem(n,"abc"),t="abc"===e.getItem(n),e.removeItem(n))}catch(e){}return t}return i(),{isStorageEnabled:function(){return e&&t},isSessionStorageEnabled:function(){return e},isLocalStorageEnabled:function(){return t},setSessionData:function(t,n){if(e)return s().setItem(t,n),!0},getSessionData:o,removeSessionData:function(t){return!!(e&&o(t))&&(s().removeItem(t),!0)},setPersistentData:function(e,n){if(t)return c().setItem(e,n),!0},getPersistentData:a,removePersistentData:function(e){return!!(t&&a(e))&&(c().removeItem(e),!0)},configure:function(o){o&&o.storageAccessHandle&&(n=o.storageAccessHandle.sessionStorage,r=o.storageAccessHandle.localStorage,e=!1,t=!1,i())}}}()},644:function(e,t){function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}!function(e,r){"use strict";if("function"==typeof define&&define.amd)return define("Chronos.EventsUtil",[],function(){return r(e,e,!0)});"object"===n(t)?r(e,t):(e.Chronos=e.Chronos||{},r(e,e.Chronos))}(void 0===window.lpTag?this:window.lpTag,function(e,t,r){"use strict";function o(t,n,r){e&&"function"==typeof e.log&&e.log(t,n,r)}function a(e){var t={};if(e.constructor===Object)for(var r in e)e.hasOwnProperty(r)&&null!==e[r]&&void 0!==e[r]&&("object"===n(e[r])&&e[r].constructor!==Array?t[r]=a(e[r]):e[r].constructor===Array?t[r]=e[r].slice(0)||[]:"function"!=typeof e[r]&&(t[r]=null!==e[r]&&void 0!==e[r]?e[r]:""));else e.constructor===Array?t=e.slice(0)||[]:"function"!=typeof e&&(t=e);return t}var i={getListeners:function(e,t,n){var r=[];if(e[t]&&e[t].length)for(var o=0;o<e[t].length;o++)n&&"*"!==e[t][o].appName&&e[t][o].appName!==n||r.push(e[t][o]);if(e["*"])for(var a=0;a<e["*"].length;a++)n&&"*"!==e["*"][a].appName&&e["*"][a].appName!==n||r.push(e["*"][a]);return r},log:o,unbind:function(e){var t,n=e.unbindObj[e.attrName],r=!1;if(!e.unbindObj)return o("CMD listen id not spec for unbind","ERROR",e.loggerName),null;if("string"==typeof e.unbindObj)return function(e,t){var n=!1;if(!t)return o("Ev listen id not spec for unregister","ERROR","Events"),null;for(var r in e)if(e.hasOwnProperty(r)){for(var a=0;a<e[r].length;a++)if(e[r][a].id==t){e[r].splice(a,1),o("Ev listen="+t+" and name="+r+" unregister","DEBUG","Events"),n=!0;break}}return n||o("Ev listen not found "+t+" unregister","DEBUG","Events"),n}(e.lstnrs,e.unbindObj);if(!e.unbindObj.func&&!e.unbindObj.context&&!e.unbindObj.appName)return!1;var a=e.lstnrs;for(var i in n&&((a={})[n]=e.lstnrs[n]),a)a.hasOwnProperty(i)&&a[i]&&a[i].length&&(t=function(e,t,n,r){var a=[];if(e&&e.length)for(var i=0;i<e.length;i++)try{var s=!n&&e[i].func===t,c=!t&&n&&e[i].context===n,u=t&&n&&e[i].func===t&&e[i].context===n,l=r&&r===e[i].appName,d="*"===e[i].appName;if(s||c||u){if(l||d||c)continue}else if(!t&&!n&&l)continue;a.push(e[i])}catch(e){o("Error in unbind e="+e.message,"ERROR","Events")}return a}(a[i],e.unbindObj.func,e.unbindObj.context,e.unbindObj.appName)).length!==a[i].length&&(e.lstnrs[i]=t,r=!0);return r},hasFired:function(e,t,n){if((void 0===n||"*"===n)&&"*"===t)return e;for(var r=[],o=0;o<e.length;o++)(e[o].eventName===n||"*"===n)&&(t&&t===e[o].appName||!e[o].appName||"*"===e[o].appName||"*"===t)&&r.push(e[o]);return r},cloneEventData:a,storeEventData:function(e){if(0===e.eventBufferLimit||e.triggerData.data&&e.triggerData.data.doNotStore){e=null;return}var t={eventName:e.triggerData[e.attrName],appName:e.triggerData.appName};t.data=e.triggerData.passDataByRef?e.triggerData.data:a(e.triggerData.data),void 0!==e.triggerData.aSync&&(t.aSync=e.triggerData.aSync),e.eventBufferLimit>0?(e.index>=e.eventBufferLimit&&(e.index=0),e.fired[e.index]=t,e.index++):e.fired.push(t),e=null}};return r||(t.EventsUtil=t.EventsUtil||i),i}),function(e,r){"use strict";if("function"==typeof define&&define.amd)return define("Chronos.Events",["Chronos.EventsUtil"],function(t){return r(e,e,t,!0)});"object"===n(t)?r(e,t,t.EventsUtil):(e.Chronos=e.Chronos||{},r(e,e.Chronos,e.Chronos.EventsUtil))}(void 0===window.lpTag?this:window.lpTag,function(e,t,r,o){"use strict";function a(e){var t,o,a,i="eventName",s=0,c={},u=[];function l(e,t,n){var o=e;if("string"==typeof e&&(o={appName:e,eventName:t,func:n}),o.appName=o.appName||a,"*"!==a&&"string"==typeof e&&("function"==typeof t||void 0===t)&&(o.eventName=e),!o.eventName||!o.func||"function"!=typeof o.func&&o.func.constructor!==Array)return r.log("Ev listen has invalid params: evName=["+o.eventName+"]","ERROR","Events"),null;if(o.func.constructor===Array){for(var i,u=[],d=0;d<o.func.length;d++)(i=r.cloneEventData(o)).func=o.func[d],u.push(l(i));return u}var f="evId_"+s++,g={id:f,func:o.func,context:o.context||null,aSync:!!o.aSync,appName:o.appName,triggerOnce:o.triggerOnce||!1};return c[o.eventName]=c[o.eventName]||[],c[o.eventName].push(g),r.log("Ev listen rgstr: evName=["+o.eventName+"] aSync="+g.aSync+" appName="+g.name,"DEBUG","Events"),o=null,e=null,f}function d(e){return"*"!==a&&(e.appName=e.appName||a),r.unbind({unbindObj:e,attrName:i,loggerName:"Events",lstnrs:c})}function f(e,s,l){var d,f=e;if("string"==typeof e&&(f={eventName:s,appName:e,data:l}),"*"!==a&&(f.appName=f.appName||a,"string"==typeof e&&("object"===(void 0===s?"undefined":n(s))||void 0===s)&&(f.eventName=e)),!f||void 0===f.eventName)return r.log("Ev name not spec for publish","ERROR","Events"),f=null,null;f.passDataByRef=f.passDataByRef||!t,d=f,r.storeEventData({triggerData:d,eventBufferLimit:o,attrName:i,fired:u,index:0});var p=r.getListeners(c,f.eventName,f.appName);if(p.length>0)for(var m=0;m<p.length;m++){var v=f.passDataByRef?f.data:r.cloneEventData(f.data),h={appName:f.appName,eventName:f.eventName},E=p[m];E.aSync||v&&v.aSync?setTimeout(g(E,v,h),0):g(E,v,h)()}return f=null,p.length>0}function g(e,t,n){return function(){try{e.func.call(e.context,t,n),t=null,e.triggerOnce&&d(e),e=null}catch(t){r.log("Error executing "+n.eventName+" eventId: "+e.id+"e="+t.message,"ERROR","Events")}}}a=e&&e.appName||"*",t=!!e&&"boolean"==typeof e.cloneEventData&&e.cloneEventData,o=e&&!isNaN(e.eventBufferLimit)?e.eventBufferLimit:-1,this.once=function(e){return e?(e.triggerOnce=!0,l(e)):null},this.getListeners=function(e,t){return void 0===t&&(t=e,e=a),r.getListeners(c,t,e)},this.hasFired=function(e,t){return void 0===t&&(t=e,e=a),r.hasFired(u,e,t)},this.trigger=f,this.publish=f,this.bind=l,this.register=l,this.unbind=d,this.unregister=d}return o||(t.Events=t.Events||a),a})},360:function(){function e(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}window.lpTag=window.lpTag||{},lpTag.taglets=lpTag.taglets||{},lpTag.taglets.fetch=lpTag.taglets.fetch||function(t){var n,r,o={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE"},a={ERROR:"ERROR",INFO:"INFO"},i={encoding:"UTF-8",method:o.GET,asynch:!0,timeout:3e4,mimeType:"application/json",acceptHeader:"*/*",XMLHTTPOverride:!0,retries:2,metricsCount:100,metricsTimeout:6e4,credentials:"include",accessHeader:"Authorization"},s="fetch",c="1.0.2",u=R(document.location.href),l={responseCode:600,HTTPStatus:"unable to service request",body:{error:"Transport - "+s+" - unable to run request"},headers:""},d=0,f=[],g=[],p=[],m=!0,v=lpTag.taglets;function h(){if(v.lpAjax&&v.lpAjax.addTransport){r=v.lpAjax;try{r.addTransport(s,D)}catch(e){}}x()}function E(e){var t,n,r=(u!==R((t=e).url)&&((n=t).headers||(n.headers={}),n.headers["Access-Control-Request-Method"]=n.method,n.headers["Access-Control-Request-Headers"]=n.headers["Access-Control-Request-Headers"]||i.accessHeader,n.headers.Origin=n.headers.Origin||u,t=n),t.method=t.method||i.method,t.credentials=t.credentials||i.credentials,t.encoding=t.encoding||i.encoding,t.mimeType=t.mimeType||i.mimeType,t.retries=isNaN(t.retries)?i.retries:t.retries,t.timeout=isNaN(t.timeout)?i.timeout:t.timeout,t.XMLHTTPOverride="boolean"==typeof t.XMLHTTPOverride?t.XMLHTTPOverride:i.XMLHTTPOverride,t.asynch="boolean"==typeof t.asynch?t.asynch:i.asynch,(t.method.toLowerCase()===o.PUT.toLocaleLowerCase()||t.method.toLowerCase()===o.DELETE.toLocaleLowerCase())&&t.XMLHTTPOverride&&(t.headers["X-HTTP-Method-Override"]=t.method,t.method=o.POST),(e=t)&&e.url&&"string"==typeof e.url&&e.url.length<=2083);return m&&r}function R(e){var n,r=new RegExp(/(http{1}s{0,1}?:\/\/)([^\/\?]+)(\/?)/ig),o=null;return(n=0===e.indexOf("http")?r.exec(e):r.exec(t.location.href))&&n.length>=3&&""!==n[2]&&(o=n[1].toLowerCase()+n[2].toLowerCase()),o}function T(e,t){return e.json().then(function(n){var r={body:n,responseCode:e.status,headers:e.headers,HTTPStatus:e.statusText};return(A(t),e.status>=400)?(S("Response error: ",a.ERROR,"_parseResponse"),t.error(r)):(S("Response Success: ",a.INFO,"_parseResponse"),t.success(r))}).catch(function(n){S("Unable to parse response: "+n,a.ERROR,"_parseResponse");var r={body:{},responseCode:e.status,headers:e.headers,HTTPStatus:e.statusText};return(A(t),e.status>=400)?(S("Response error: ",a.ERROR,"_parseResponse"),t.error(r)):(S("Response Success: ",a.INFO,"_parseResponse"),t.success(r))})}function y(t,n){var r;return(r=function(t){var n="";if("string"==typeof t)n+=t;else{var r,o=!0;for(var a in t)t.hasOwnProperty(a)&&("object"==e(t[a])?r=O(t[a]):"function"!=typeof t[a]&&(r=t[a]),void 0!==r&&(o||(n+="&"),n+=encodeURIComponent(a)+"="+encodeURIComponent(r),o=!1))}return n}(n))&&(t+=0>t.indexOf("?")?"?":"&",t+=r),t}function O(e){var t;if("function"==typeof Array.prototype.toJSON){var n=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(e){throw Array.prototype.toJSON=n,e}Array.prototype.toJSON=n}else t=JSON.stringify(e);return t}function b(){for(;g.length<6&&f.length>0;)!function n(r){var i,s,c,u,l,f;try{i=new AbortController}catch(e){i=null,S("Old browser - AbortController is not available: "+e,a.ERROR,"fetch:_send")}i&&(s=i.signal),r.query&&(r.url=y(r.url,r.query),r.query=null),r.method===o.GET&&r.data?(r.url=y(r.url,r.data),r.data=null):void 0!==r.data&&(r.body=(void 0===(l=r.data)?"undefined":e(l))==="object"?O(l):"string"==typeof l?l:""),r.timeout&&i&&s&&(r.signal=s,r.abortController=i,c=function(e){return setTimeout(function(){e.controller.abort()},e.timeout)}(r)),(u=r.url.indexOf("__d="))>-1&&(r.url=r.url.substr(0,u-1)),!r.cache&&(r.method.toLowerCase()!==o.GET.toLowerCase()||r.url.length<=2073)&&(r.url+=r.url.indexOf("?")>0?"&__d=":"?__d=",r.url+=Math.floor(1e5*Math.random())),(f=r).launchTime=new Date,g.push(f),d+=1,fetch(r.url,r).then(function(e){if(c&&clearTimeout(c),e.ok||(S("Unable to fetch due to a backend error. Status "+e.status,a.ERROR,"_send"),A(r),!(r.retries>0)))return T(e,r);--r.retries,n(r)}).catch(function(e){var n=lpTag&&lpTag.taglets&&lpTag.taglets.lpFrontendMetrics;return S("Unable to fetch due to a network/csp error: "+(e=e||{}),a.ERROR,"_send"),c&&clearTimeout(c),A(r),n&&"function"==typeof n.sendLog&&n.sendLog("ERROR","Fetch blocked by CSP or Network",{requestUrl:r.url,pageUrl:t.location.href}),e.cspOrNetworkError=!0,r.error(e)})}(f.shift())}function S(e,n){t.lpTag&&lpTag.log&&lpTag.log(e,n,s)}function A(e){for(var t=0;t<g.length;t++)if(g[t]===e){g.splice(t,1),f.length>0&&b();break}}function P(){v&&v.lpAjax&&v.lpAjax.publishMetrics&&p.length>0&&((r=v.lpAjax).publishMetrics({tags:[{transport:s}],metrics:p}),p.length=0),x()}function x(){n&&clearTimeout(n),n=setTimeout(P,i.metricsTimeout)}var D={init:h,name:s,v:c,configure:function(e){if(e&&e.defaults)for(var t in e.defaults)e.defaults.hasOwnProperty(t)&&i.hasOwnProperty(t)&&(i[t]=e.defaults[t]);h(),m=!0},issueCall:function(e){var t;return E(e)?(t=e,void(f.push(t),b())):function(e,t,n){if(e&&"function"==typeof e)try{e.call(n,t)}catch(e){S(e.message,"error")}}(e.error,l,e.context)},isValidRequest:E,inspect:function(){return{name:s,version:c,callsMade:d,errorsFound:0,pending:g.length,defaults:JSON.parse(O(i))}}};return h(),D}(window)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}(()=>{"use strict";var e=navigator.userAgent,t=navigator.userAgentData,r={OSX:"osx",LINUX:"linux",IOS:"ios",ANDROID:"android",WINDOWS:"windows"},o={IE:"ie",LINE:"line",CHROMEIOS:"chromeios",CHROME:"chrome",OPERA:"opera",BLACKBERRY:"blackberry",FF:"firefox",SAFARI:"safari",EDGE:"edge"},a=[],i=!1,s={OS:r,BROWSERS:o,ready:function(e,t){a.push({cb:e,ctx:t}),i&&v()}},c=[{exp:/(iPhone|iPod|iPad)/g,id:r.IOS},{exp:/(Mac OS)/g,id:r.OSX},{exp:/(android|Android)/g,id:r.ANDROID},{exp:/(Linux)/g,id:r.LINUX},{exp:/(Windows|Win64)/g,id:r.WINDOWS}],u=[{exp:/MSIE|Trident|IEMobile/,id:o.IE},{exp:/Line/,id:o.LINE},{exp:/CriOS/,id:o.CHROMEIOS},{exp:/Opera|OPR/,id:o.OPERA},{exp:/Edg/,id:o.EDGE},{exp:/Chrome/,id:o.CHROME},{exp:/ BlackBerry /,id:o.BLACKBERRY},{exp:/Firefox/,id:o.FF},{exp:/Safari/,id:o.SAFARI}];s.isMobile=h(e,/(Windows Phone|iPhone|iPod|mobile|Mobile|IEMobile)/g),s.isTablet=h(e,/(Tablet PC|iPad|Tablet|tablet)/g),s.isTouch=h(e,/(Touch)/g);for(var l=0;l<c.length;++l)if(h(e,c[l].exp)){s.os=c[l].id;break}for(var d=0;d<u.length;++d)if(h(e,u[d].exp)){s.browser=u[d].id;break}if(t){var f=[{exp:/Chrome/,id:o.CHROME},{exp:/CriOS/,id:o.CHROMEIOS},{exp:/Opera|OPR/,id:o.OPERA},{exp:/Line/,id:o.LINE},{exp:/BlackBerry/,id:o.BLACKBERRY},{exp:/Firefox|FireFox/,id:o.FF},{exp:/Safari/,id:o.SAFARI},{exp:/Edge/,id:o.EDGE}],g=[{exp:/(Mac OS)/g,id:r.OSX},{exp:/(Linux)/g,id:r.LINUX},{exp:/(iPhone|iPod|iPad|iOS|IOS)/g,id:r.IOS},{exp:/(android|Android)/g,id:r.ANDROID},{exp:/(Windows|Win64)/g,id:r.WINDOWS}];s.isMobile=t.mobile;for(var p=t.brands.map(function(e){return e.brand}).join("|"),m=0;m<f.length;++m)if(h(p,f[m].exp)){s.browser=f[m].id,s.browserVersion=function(e,t,n,r){var o=(e||[]).filter(function(e){return e&&e[n]&&(""+e[n]).match(t)});return o.length&&o[0][r]}(t.brands,f[m].exp,"brand","version");break}t.getHighEntropyValues(["platform","platformVersion","architecture","model","uaFullVersion"]).then(function(e){for(var t=0;t<g.length;++t)if(h(e.platform,g[t].exp)){s.os=g[t].id,s.osVersion=e.platformVersion;break}h(e.model||"",/(Tablet PC|iPad|Tablet|tablet)/g)&&(s.isTablet=!0),v()})}else v();function v(){i=!0,a.forEach(function(e){e&&"function"==typeof e.cb&&e.cb.call(e.etx||this)}),a.length=0}function h(e,t){return!!e.match(t)}n(360),n(543),n(757);var E=n(644);function R(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}window.lpTag=window.lpTag||{},lpTag.taglets=lpTag.taglets||{},lpTag._tagv="4.1.17",function(t,n){var r,o,a,i,c,u,l,d,f,g,p,m,v,T={retry:{count:0,max:3,timeout:1e3},scriptPrefix:"_lpTagScriptId_",count:0},y=[],O={},b={},S={},A={},P=!1,x={STARTED:1,STOPPED:2},D={desktop:0,tablet:1,mobile:2},N=["Desktop","Tablet","Mobile"],L={windows:0,mac:1,linux:2,iOS:3,android:4},w=["Windows","Mac OSX","Linux","iOS","Android"],C={ie:0,chrome:1,safari:2,firefox:3,line:4,chromeios:5,oldie:6,blackberry:7,opera:8,android:9,unknown:10,edge:11},I=["MSIE","Chrome","Safari","Firefox","Line","ChromeIOS","IE<9","BlackBerry","Opera","Android","Unknown","Edge"],G=!t.addEventListener;navigator.userAgent;var B={ALPHA:"alpha",QA:"qa",PRODUCTION:"prod",DEV:"dev"},U=[{env:B.ALPHA,tagDomain:"lptag-a.liveperson.net"},{env:B.ALPHA,tagDomain:"cdn-a.lpsnmedia.net",tagletsPrecomputed:!0},{env:B.PRODUCTION,tagDomain:"lptag.liveperson.net"},{env:B.PRODUCTION,tagDomain:"cdn.lpsnmedia.net",tagletsPrecomputed:!0},{env:B.QA,tagDomain:"lp-lptag-app.qa.int.gw.lpcloud.io"},{env:B.QA,tagDomain:"lptag-dev.dev.lprnd.net"},{env:B.QA,tagDomain:"tlv_plankton3.dev.lprnd.net"},{env:B.QA,tagDomain:"tlv_plankton4.dev.lprnd.net"},{env:B.QA,tagDomain:"cdn-qa.lpsnmedia.net",tagletsPrecomputed:!0},{env:B.DEV,tagDomain:"object"===R(n.configurationDefaults)&&n.configurationDefaults.tagDomain}];function M(e,r,o){if(n._logcnt=n._logcnt||0,Z(e,r,o,n._logcnt),void 0!==t.lpTaglogListeners&&t.lpTaglogListeners.constructor===Array)for(var a=0;a<lpTaglogListeners.length;a++)try{lpTaglogListeners[a](e,r,o,n._logcnt)}catch(t){Z("Exception="+t.message+" msg="+e,r,o,n._logcnt)}n._logcnt++}function k(e){if(e)for(var t=0;t<e.length;t++)y[e[t].service]=e[t].baseURI}function _(){for(var e=B.PRODUCTION,t=n.ovr&&n.ovr.domain,r=0;r<U.length;r++)if(U[r].tagDomain===t){e=U[r].env;break}return e}function j(e){var t=y[e];return t||y.ALL}function F(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function H(e,t){var n;return void 0!==t?void 0!==e[t]?e[t]:null:ea(e)}function W(){var e=new n.Events,t=e.trigger,r=!1;return e.trigger=function(e,o,a){var i=e;if("string"==typeof e&&(i={eventName:o,appName:e,data:a}),"LPT"===i.appName&&"DOM_READY"===i.eventName){if(r)return;r=!0}if(void 0===n._deferExecuted)return void n.defer(function(){t(i)},1);t(i)},e}function X(e){var t;A.taglets=A.taglets||{},e&&(V(e),function(e,t){for(var o in S)if(S.hasOwnProperty(o)&&S[o]!==x.STOPPED&&function(e,t){for(var n=!0,r=0;r<e.length;r++)if(e[r].name===t){n=!1;break}return n}(e,o)){var a=n.taglets[o];if(o&&a)try{"function"==typeof a.stop&&(M("Stop taglet: "+o,"DEBUG","LPTAG"),a.stop(t[o])),S[o]=x.STOPPED,r.trigger("LPTAG","TAGLET_STOPPED",{name:o})}catch(e){M("Error stop taglet :"+o+"ex= "+e.message,"ERROR","LPTAG")}else M("Stop not called on non-JS taglet: "+o,"DEBUG","LPTAG")}}(e,A.taglets),$(e,A.taglets)),(t=A).sdes&&t.sdes.length&&n.sdes.push(t.sdes),ee(),r.trigger("LPTAG","ON_READY"),e&&en(e,A.taglets),r.trigger("LPTAG","ON_STARTED")}function J(e){e&&(V(e),$(e,{},!0),en(e,{},!0))}function V(e){var t;"function"==typeof(null==(t=n.ovr)?void 0:t.onBeforeInit)&&n.ovr.onBeforeInit(e)}function q(){n.started||(n.started=!0,ei())}function Y(e){var t,r,o;e=e||{},n.taglets&&n.taglets.jsonp&&(t={url:Q(e),success:(r=e,function(e){var t,n;e&&!e.error?(n=T.retry,e.retry?es(n,e.retry,!1,function(){Y(r)}):e.taglets?(n.count=0,e.taglets.constructor!==Array&&(e.taglets=[e.taglets]),setTimeout(function(){J(e.taglets),z(r.success,r.context)},0)):z(r.success,r.context)):(M("callback error, "+(t=e&&e.error?"response error: "+JSON.stringify(e.error):"no response"),"ERROR","LPTAG"),z(r.error,r.context,t))}),error:(o=e,function(e){z(o.error,o.context,e)})},n.taglets.jsonp.issueCall(t))}function K(){if(t.location&&t.location.search){var e=t.location.search.match(/lpDebug=(?=(\d))/);e&&e[1]&&(n.debug=e[1])}n.isDom||"interactive"!==document.readyState&&"complete"!==document.readyState||(n.isDom=!0,r.trigger("LPT","DOM_READY")),void 0===t._lptTagStop&&(void 0===n.autoStart||n.autoStart)&&q()}function Q(e){e=e||{};var t,r={};if(r[n.site]&&(n.tagletsPrecomputed=r[n.site].tagletsPrecomputed),n.tagletsPrecomputed)return n.protocol+"//"+(n.ovr&&n.ovr.domain?n.ovr.domain:"cdn.lpsnmedia.net")+"/api/account/"+n.site+"/taglets/scopes/"+(P?"default/onwindowclose":"default/onpageload");var o="?v=2.0&df="+n.device.family(),a=e.lpDebug||n.debug,i=e.whitelist||n.wl,s=e.scp||n.scp,c=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}(S),u=(n.tagletSection?t=n.tagletSection:"object"!==R(n.section)&&n.section?t=n.section:n.section&&n.section.constructor===Array&&1===n.section.length&&"object"!==R(n.section[0])&&n.section[0]&&(t=n.section[0]),t),l=n.protocol+"//"+(n.ovr&&n.ovr.domain?n.ovr.domain:"lptag.liveperson.net")+"/lptag/api/account/"+n.site+"/configuration/applications/taglets/.jsonp";return s&&(o+="&scp="+s),!e.excludeWhitelist&&i&&(o+="&wl="+encodeURIComponent((i=i.constructor===Array?i:[i]).join(","))),e.name&&(e.name=e.name.constructor===Array?e.name:[e.name],o+="&byName="+encodeURIComponent(e.name.join(","))),(1==a||2==a)&&(o+="&lpDebug="+a),c.length&&(o+="&ct="+encodeURIComponent(c.join(","))),u&&(o+="&s="+encodeURIComponent(u)),C&&(o+="&b="+m),l+o}function Z(e,n,r,o){void 0!==t.lpMTagDebug&&"function"==typeof lpMTagDebug.Display&&t.lpMTagDebug.Display(e,n,r,o)}function z(e,n){if(n=n||t,"function"==typeof e){var r=Array.prototype.slice.call(arguments,2);try{return e.apply(n,r)}catch(e){M("Failed to execute callback exc= "+e.message,"ERROR","LPTAG")}}}function $(e,t,o){for(var a=0;a<e.length;a++)if(!((null==(i=n.ovr)?void 0:i.excludes)&&n.ovr.excludes.indexOf(e[a].name)>-1)){var i,s=n.taglets[e[a].name];if(e[a].name&&s)if(S[e[a].name]){if(!o)try{"function"==typeof s.reinit&&(M("Reinit taglet: "+e[a].name,"DEBUG","LPTAG"),s.reinit(e[a].parameters,t[e[a].name]),r.trigger("LPTAG","TAGLET_REINITIALIZED",{name:e[a].name}))}catch(t){M("Error reinit taglet :"+e[a].name+"ex= "+t.message,"ERROR","LPTAG")}}else try{M("Init taglet: "+e[a].name,"DEBUG","LPTAG"),s.init(e[a].parameters),r.trigger("LPTAG","TAGLET_INITIALIZED",{name:e[a].name})}catch(t){M("Error init taglet:"+e[a].name+"  ex="+t.message,"ERROR","LPTAG")}else M("Init not called on non-JS taglet: "+e[a].name,"DEBUG","LPTAG")}}function ee(){n._deferExecuted=!0,n.defer=function(e){try{e()}catch(e){M("Error executing defer fn:"+e.message,"ERROR","LPTAG")}},et(n._defB),et(n._defT),et(n._defL)}function et(e){if(void 0!==e){for(var t=0;t<e.length;t++)try{e[t]()}catch(e){M("Error executing defer fn:"+e.message,"ERROR","LPTAG")}e.length=0}}function en(e,t,o){for(var a=0;a<e.length;a++)if(!((null==(i=n.ovr)?void 0:i.excludes)&&n.ovr.excludes.indexOf(e[a].name)>-1)){var i,s=n.taglets[e[a].name];if(e[a].name&&s){if(S[e[a].name]){if(!o)try{"function"==typeof s.restart&&(M("Restart taglet: "+e[a].name,"DEBUG","LPTAG"),s.restart(t[e[a].name])),r.trigger("LPTAG","TAGLET_RESTARTED",{name:e[a].name})}catch(t){M("Error restart taglet :"+e[a].name+"ex= "+t.message,"ERROR","LPTAG")}}else try{"function"==typeof s.start&&(M("Start taglet: "+e[a].name,"DEBUG","LPTAG"),s.start()),r.trigger("LPTAG","TAGLET_STARTED",{name:e[a].name})}catch(t){M("Error start taglet :"+e[a].name+"ex= "+t.message,"ERROR","LPTAG")}S[e[a].name]=x.STARTED}else M("Start not called on non-JS taglet: "+e[a].name,"DEBUG","LPTAG"),e[a].name&&!S[e[a].name]&&(S[e[a].name]=x.STOPPED)}}function er(){var e,t=document.documentMode;return e=!1,eo(""),e="number"==typeof document.documentMode,eo(t),!e&&navigator&&navigator.userAgent&&(e="Netscape"===navigator.appName&&/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.test(navigator.userAgent)),e}function eo(e){try{document.documentMode=e}catch(e){}}function ea(e){var t={};for(var n in e)t[n]=e[n];return t}function ei(){n.load(Q(),"UTF-8",T.scriptPrefix+T.count),T.count++}function es(e,t,n,o){if(n){var a=T.count-1;ec(T.scriptPrefix+a)}isNaN(t.maxRetries)||(e.max=parseInt(t.maxRetries,10)),isNaN(t.timeout)||(e.timeout=parseInt(t.timeout,10)),e.count<e.max?(M("retrying count="+e.count+" max="+e.max,"DEBUG","LPTAG"),e.count++,setTimeout(function(){o()},e.timeout)):(M("exceeded max retries: "+e.max+", stopping","ERROR","LPTAG"),r.trigger("LPTAG","CB_ERROR",{err:"max retries",count:e.count}))}function ec(e){var t=document.getElementById(e);if(t)try{for(var n in t.parentNode.removeChild(t),t)t.hasOwnProperty(n)&&delete t[n]}catch(t){M("error removing script: "+e,"ERROR","LPTAG")}}s.ready(function(){var t,n,r;o=s.isMobile,a=s.isTablet,i=s.isTouch,c=s.os===s.OS.OSX,u=s.os===s.OS.LINUX,l=s.os===s.OS.IOS,d=s.os===s.OS.ANDROID,t=D.desktop,o&&!a?t=D.mobile:(a||d)&&!er()?t=D.tablet:a&&er()&&i&&!h(e,/Trident\/.*rv:(11)/)&&(t=D.tablet),f=t,n=L.windows,c&&!o?n=L.mac:d?n=L.android:l?n=L.iOS:u&&(n=L.linux),g=n,p=s.osVersion,r=C.unknown,G?r=C.oldie:s.browser===s.BROWSERS.IE?r=C.ie:s.browser===s.BROWSERS.LINE?r=C.line:s.browser===s.BROWSERS.CHROMEIOS?r=C.chromeios:s.browser===s.BROWSERS.OPERA?r=C.opera:s.browser===s.BROWSERS.EDGE?r=C.edge:s.browser===s.BROWSERS.CHROME?r=C.chrome:s.browser===s.BROWSERS.BLACKBERRY?r=C.blackberry:s.browser===s.BROWSERS.FF?r=C.firefox:s.browser===s.BROWSERS.SAFARI&&(c||l||g===L.windows)?r=C.safari:d&&(r=C.android),m=r,v=s.browserVersion},this),n.Chronos=n.Chronos||{},n.Chronos.Events=n.Chronos.Events||E.Events||{},n.Events=E.Events||n.Chronos.Events,n.cfg=T,n.log=M,n.csds={getDomain:j,setDomains:k,getCSDSMap:function(){return y}},n.features={getFeature:function(e){return H(O,e)}},n.siteSettings={getSetting:function(e){return H(b,e)}},n.getEnv=_,n.getTagDomain=function(e){var t;if("string"==typeof(e=e||_())){for(var r=0;r<U.length;r++)if(U[r].env===e&&(n.tagletsPrecomputed&&U[r].tagletsPrecomputed||!n.tagletsPrecomputed&&!U[r].tagletsPrecomputed)){t=U[r].tagDomain;break}}return t},n.getDomain=j,n.eventsFactory=W,n.tglMng={run:X,runtTaglet:J},n.device={os:function(){return g},osEnum:ea(L),osName:function(){return w[g]},osVersion:function(){return p},family:function(){return f},familyEnum:ea(D),familyName:function(){return N[f]},browser:function(){return m},browserName:function(){return I[m]},browserVersion:function(){return v},browserEnum:ea(C)},n.start=q,n._reload=ei,n.newPage=function(e,t){return!!e&&(n.url=e,(t=t||{}).taglets=t.taglets||{},n.section=t.section||n.section,n.tagletSection=t.tagletSection||n.tagletSection,A=t,function(e){for(var t in S)if(S.hasOwnProperty(t)&&S[t]!==x.STOPPED){var r=n.taglets[t];if(t&&r)try{"function"==typeof r.onBeforeNavigation&&(M("onBeforeNavigation taglet: "+t,"DEBUG","LPTAG"),r.onBeforeNavigation(e[t]))}catch(e){M("Error onBeforeNavigation taglet :"+t+"ex= "+e.message,"ERROR","LPTAG")}else M("onBeforeNavigation not called on non-JS taglet: "+t,"DEBUG","LPTAG")}}(t.taglets),P=!0,ei(),!0)},n.loadTaglet=function(e){e&&e.name&&(e.excludeWhitelist=!0,Y(e))},n.loadTaglets=Y,n.callback=function(e){try{if(e){var t=T.retry;if(e.retry)es(t,e.retry,!0,ei);else if((!n.loaded||P)&&(P=!1,n.loaded=!0,t.count=0,n.site=e.site||n.site,k(e.serviceMap),F(O,e.features),F(b,e.settings),setTimeout(function(){X(e.taglets)},0),T.count>1)){var o=T.count-2;ec(T.scriptPrefix+o)}e.error&&(M("callback error ,Error:"+JSON.stringify(e.error),"ERROR","LPTAG"),r.trigger("LPTAG","CB_ERROR",{err:e.error}))}else M("callback error, no response","ERROR","LPTAG"),r.trigger("LPTAG","CB_ERROR",{err:"no response"}),ee()}catch(e){M("callback has failed "+e.message,"ERROR","LPTAG"),r.trigger("LPTAG","CB_EXCEPTION",{err:e.message}),ee()}},n.handleGeneralError=function(e,t){n.log("Error creating taglet:"+e+" ex="+t.message,"ERROR","LPTAG")},n.run=K,n.hooks=n.hooks||[],n.getCrossDomainUrl=function(e){try{var t=new URL(e),r=[],o={lpvid:n.taglets.lp_monitoringSDK.getVid(),lpsid:n.taglets.lp_monitoringSDK.getSid(),lpjwt:n.taglets.unAuthMessaging.getJwt()};for(var a in o)r.push(a+"="+o[a]);return t.hash=r.join("&"),t.toString()}catch(t){return M("Error getting cross domain URL: "+t.message,"ERROR","LPTAG"),e}},n.events=r=W(),K()}(window,lpTag)})(),(window.lpTag=window.lpTag||{}).tag={}})();